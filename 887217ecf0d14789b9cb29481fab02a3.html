<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>7a176539192a45acaf506f17fb06713a</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="analysis-of-university-tuition-vs-potential-income"
class="cell markdown" id="GD1aANQ2TnF9">
<h2>Analysis of University tuition vs Potential Income</h2>
</section>
<section id="introduction" class="cell markdown" id="P3I9TkMcTnGF">
<h1>Introduction</h1>
<p>Higher education may be the default next-step to take for most high
school students in the 2020's, but is it worth it?</p>
<p>Some may argue that attending college is simpling not worth the pricy
tuition and the precious 4-years in the most important years of a young
adult's life. To analyze the validaty of this statement, this tutorial
will walk you through the data science pipeline, starting from data
collection to data cleaning, data visualization, modeling, and
conclusions.</p>
<p>In this tutorial, we aim to analyze the relationship between college
tuition, college ranking, and potential salaries after graduation.</p>
</section>
<section id="sources-and-setup" class="cell markdown" id="mpT3Dm8QTnGJ">
<h1>Sources and Setup</h1>
<p>We decide to gather potential entry-level and mid-carrer salary data
from <a
href="https://www.payscale.com/college-salary-report/bachelors/page/1">salary.com</a>,
which also contains data regarding percentage of alumnis whos says their
work make the world a better place.</p>
<p>We gathered tuition data from The <a
href="https://www.chronicle.com/article/tuition-and-fees-1998-99-through-2018-19/">Chronicle
of Higher Education</a>, which contains data on annual in-state tuition,
out-of-state tuition, and room and board fees.</p>
<p>We begin the setup process by importing libraries. The main libraries
we will be using are pandas, request, BeaultifulSoup, numpy, matplotlib,
and sklearn. We will use pandas dataframes to store and manage our data
mainly in the data collection and cleaning stages. Numpy will mostly be
used in the data cleaning process to edit and parse data. Matplotlib
will be responsible for providing functions that enables data
visualization. Finally, we will use sklearn to fit linear regression
models on the data</p>
</section>
<div class="cell code" id="B0dPQKmkTnGM">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> warnings</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn <span class="im">import</span> linear_model</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.api <span class="im">as</span> sma</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>warnings.filterwarnings(<span class="st">&#39;ignore&#39;</span>)</span></code></pre></div>
</div>
<section id="data-collection" class="cell markdown" id="Y6yc2kU4TnGS">
<h1>Data Collection</h1>
<p>We begin our data collection process with collecting data from <a
href="https://www.payscale.com/college-salary-report/bachelors/page/1">payscale.com</a>.
We observed that the desired data resides in 63 webpages with unique
urls. To collect the entire dataset, we decided to first create a
dataframe using the data from the first page, and append the data from
the following pages to the same data frame.</p>
<p>We first fetch the data of hte first page by using http request.
After parsing the result of the http request using BeautifulSoup and
saving it to the variable soup, we print out soup.prettify() to identify
the table which our desired data resides in. In this case, we were able
to successfully identify that the table has class='data-table'. After
identifiying the table name, we use soup.find to save the table for
later use.</p>
</section>
<div class="cell code" id="tdrc-QxlTnGU">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>url <span class="op">=</span> <span class="st">&#39;https://www.payscale.com/college-salary-report/bachelors/page/1&#39;</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="co"># http request and parsing</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> requests.get(url)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(r.text, <span class="st">&#39;html.parser&#39;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Finding desired table</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">&#39;table&#39;</span>, {<span class="st">&#39;class&#39;</span>:<span class="st">&#39;data-table&#39;</span>})</span></code></pre></div>
</div>
<div class="cell markdown" id="JRBeAPQ8TnGV">
<p>We then use the read_html function in the pandas library to construct
a dataframe based on the html table and assign appropriate column
names</p>
</div>
<div class="cell code" id="XNYC38IuTnGW">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creating dataframe</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>tables <span class="op">=</span> pd.read_html(<span class="bu">str</span>(table))</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>salary <span class="op">=</span> tables[<span class="dv">0</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Assign column names</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>salary.columns <span class="op">=</span> [<span class="st">&quot;Rank&quot;</span>, <span class="st">&quot;School Name&quot;</span>, <span class="st">&quot;School Type&quot;</span>, <span class="st">&quot;Early Career Pay&quot;</span>, <span class="st">&quot;Mid-Career Pay&quot;</span>, <span class="st">&quot;% High Meaning&quot;</span>, <span class="st">&quot;% STEM Degrees&quot;</span>]</span></code></pre></div>
</div>
<div class="cell markdown" id="_oDgwqBgTnGY">
<p>Then, we use Literal String Interpolation, also known as F-strings
inside a for loop to dynamically generate urls for pages 2-63 and repeat
the previous steps to generate similar dataframes. After generating a
dataframe for a page, we append the data to the master dataframe called
salary</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="_m1p3Wj9TnGZ" data-outputId="8eb06a3d-01c6-4e76-c3ee-b3d9cf99c21f">
<div class="sourceCode" id="cb4"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> p <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">2</span>, <span class="dv">63</span>):</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Dynamically generated url&quot;</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>    r <span class="op">=</span> requests.get(url)</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="ss">f&quot;https://www.payscale.com/college-salary-report/bachelors/page/</span><span class="sc">{</span>p<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>    soup <span class="op">=</span> BeautifulSoup(r.text, <span class="st">&#39;html.parser&#39;</span>)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    table <span class="op">=</span> soup.find(<span class="st">&#39;table&#39;</span>, {<span class="st">&#39;class&#39;</span>:<span class="st">&#39;data-table&#39;</span>})</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    tables <span class="op">=</span> pd.read_html(<span class="bu">str</span>(table))</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    page <span class="op">=</span> tables[<span class="dv">0</span>]</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>    page.columns <span class="op">=</span> [<span class="st">&quot;Rank&quot;</span>, <span class="st">&quot;School Name&quot;</span>, <span class="st">&quot;School Type&quot;</span>, <span class="st">&quot;Early Career Pay&quot;</span>, <span class="st">&quot;Mid-Career Pay&quot;</span>, <span class="st">&quot;% High Meaning&quot;</span>, <span class="st">&quot;% STEM Degrees&quot;</span>]</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Append data from current page to the master dataframe</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    salary <span class="op">=</span> pd.concat([salary, page])</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>salary.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="4">

  <div id="df-5a76453d-b237-4415-bf22-ac99938df2c0">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>School Name</th>
      <th>School Type</th>
      <th>Early Career Pay</th>
      <th>Mid-Career Pay</th>
      <th>% High Meaning</th>
      <th>% STEM Degrees</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Rank:1</td>
      <td>School Name:Massachusetts Institute of Technology</td>
      <td>School Type:Engineering, Private School, Resea...</td>
      <td>Early Career Pay:$93,700</td>
      <td>Mid-Career Pay:$167,200</td>
      <td>% High Meaning:51%</td>
      <td>% STEM Degrees:68%</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Rank:2</td>
      <td>School Name:Harvey Mudd College</td>
      <td>School Type:Engineering, Liberal Arts School, ...</td>
      <td>Early Career Pay:$97,700</td>
      <td>Mid-Career Pay:$166,600</td>
      <td>% High Meaning:56%</td>
      <td>% STEM Degrees:75%</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Rank:3</td>
      <td>School Name:Princeton University</td>
      <td>School Type:Ivy League, Private School, Resear...</td>
      <td>Early Career Pay:$81,800</td>
      <td>Mid-Career Pay:$161,500</td>
      <td>% High Meaning:48%</td>
      <td>% STEM Degrees:49%</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Rank:4</td>
      <td>School Name:United States Naval Academy</td>
      <td>School Type:Engineering, Liberal Arts School, ...</td>
      <td>Early Career Pay:$83,700</td>
      <td>Mid-Career Pay:$160,100</td>
      <td>% High Meaning:61%</td>
      <td>% STEM Degrees:57%</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Rank:5</td>
      <td>School Name:Stanford University</td>
      <td>School Type:Engineering, Private School, Resea...</td>
      <td>Early Career Pay:$87,100</td>
      <td>Mid-Career Pay:$156,500</td>
      <td>% High Meaning:55%</td>
      <td>% STEM Degrees:50%</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5a76453d-b237-4415-bf22-ac99938df2c0')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5a76453d-b237-4415-bf22-ac99938df2c0 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5a76453d-b237-4415-bf22-ac99938df2c0');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="qTkfj-NbTnGd">
<p>Then, we begin to collect data from The <a
href="https://www.chronicle.com/article/tuition-and-fees-1998-99-through-2018-19/">Chronicle
of Higher Education</a>. Due to complications from the website requiring
login and subscription, we accessed the webpage that displays the data
using a free article given when signing up for an account and saved the
html file to access locally.</p>
<p>This time, we use BeautifulSoup to parse the downloaded html file and
repeated the steps of viewing the html file to identify target table
name and use soup.find to save it to a variable. Then we use the
function pd.read_html like before to create a dataframe containing the
data.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="aYsfyKWOTnGe" data-outputId="6123dda1-7981-40d5-edd0-00e648e9925c">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>soup <span class="op">=</span> BeautifulSoup(<span class="bu">open</span>(<span class="st">&quot;tuition_page.html&quot;</span>, encoding<span class="op">=</span><span class="st">&quot;utf8&quot;</span>), <span class="st">&#39;html.parser&#39;</span>)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>table <span class="op">=</span> soup.find(<span class="st">&#39;table&#39;</span>, {<span class="st">&#39;class&#39;</span>:<span class="st">&#39;interactive_table&#39;</span>})</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>tables <span class="op">=</span> pd.read_html(<span class="bu">str</span>(table))</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>tuition <span class="op">=</span> tables[<span class="dv">0</span>]</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>tuition.columns <span class="op">=</span> [<span class="st">&quot;School Name&quot;</span>, <span class="st">&quot;State&quot;</span>, <span class="st">&quot;Room and board&quot;</span>, <span class="st">&quot;In-state tuition&quot;</span>, <span class="st">&quot;In-state total&quot;</span>, <span class="st">&quot;Out-of-state tuition&quot;</span>, <span class="st">&quot;Out-of-state total&quot;</span>]</span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>tuition.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="6">

  <div id="df-d0037373-8d97-4e29-9d71-85ccb52e47c4">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>School Name</th>
      <th>State</th>
      <th>Room and board</th>
      <th>In-state tuition</th>
      <th>In-state total</th>
      <th>Out-of-state tuition</th>
      <th>Out-of-state total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Columbia University Private 4-year | NY</td>
      <td>NY</td>
      <td>$14,490</td>
      <td>$62,430</td>
      <td>$76,920</td>
      <td>$62,430</td>
      <td>$76,920</td>
    </tr>
    <tr>
      <th>1</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Franklin &amp; Marshall College Private 4-year | PA</td>
      <td>PA</td>
      <td>$14,739</td>
      <td>$61,262</td>
      <td>$76,001</td>
      <td>$61,262</td>
      <td>$76,001</td>
    </tr>
    <tr>
      <th>3</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kenyon College Private 4-year | OH</td>
      <td>OH</td>
      <td>$12,830</td>
      <td>$61,100</td>
      <td>$73,930</td>
      <td>$61,100</td>
      <td>$73,930</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-d0037373-8d97-4e29-9d71-85ccb52e47c4')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-d0037373-8d97-4e29-9d71-85ccb52e47c4 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-d0037373-8d97-4e29-9d71-85ccb52e47c4');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<section id="data-cleaning" class="cell markdown" id="b3eHc_5vTnGg">
<h1>Data Cleaning</h1>
<p>In the data cleaning stage of thedata science pipeline, we will
uniform data labels, data types, delete unnecessary data, fill in
missing data, and combine data from different datasets.</p>
<p>We will first process the salary dataframe. We being by truncating
the values every column using string slicing to remove the excess label.
For example, we truncate "Rank:1" into "1" and trucate "Early Career
Pay:$93,700" into "93,700".</p>
</section>
<div class="cell code" id="B9pWB0-hTnGi">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Rank&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Rank&#39;</span>].<span class="bu">str</span>[<span class="dv">5</span>:]</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;School Name&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[<span class="dv">12</span>:]</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;School Type&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;School Type&#39;</span>].<span class="bu">str</span>[<span class="dv">12</span>:]</span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Early Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Early Career Pay&#39;</span>].<span class="bu">str</span>[<span class="dv">18</span>:]</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Mid-Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Mid-Career Pay&#39;</span>].<span class="bu">str</span>[<span class="dv">16</span>:]</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;% High Meaning&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;% High Meaning&#39;</span>].<span class="bu">str</span>[<span class="dv">15</span>:<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;% STEM Degrees&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;% STEM Degrees&#39;</span>].<span class="bu">str</span>[<span class="dv">15</span>:<span class="op">-</span><span class="dv">1</span>]</span></code></pre></div>
</div>
<div class="cell markdown" id="Sf9-2KPITnGk">
<p>We then remove the comma in the columns "Early Career Pay" and
"Mid-Career Pay" in order to convert the price as a string into a
integer value later.</p>
</div>
<div class="cell code" id="dP-3p4pfTnGl">
<div class="sourceCode" id="cb7"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Early Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Early Career Pay&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Mid-Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Mid-Career Pay&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown" id="pokxKEisTnGm">
<p>We will then deal with missing data. For the data in this dataset, we
decide to delete trials with missing data to enble later modeling
process by excluding NaNs and 0 so that the data is not skewed.</p>
</div>
<div class="cell code" id="7QKmTvY7TnGn">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>salary <span class="op">=</span> salary.replace(<span class="st">&#39;&#39;</span>, np.NaN)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>salary <span class="op">=</span> salary.dropna()</span></code></pre></div>
</div>
<div class="cell markdown" id="feK7okwXTnGp">
<p>Finally, we convert the data within the columns "Early Career Pay",
"Mid-Career Pay", "% High Meaning", and "% STEM Degrees" into integers
using the fucntion astype(int)</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="yUQ00TKKTnGq" data-outputId="8f5f9ecb-fa4a-4f58-dea8-b6ec9c90911a">
<div class="sourceCode" id="cb9"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Early Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Early Career Pay&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;Mid-Career Pay&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;Mid-Career Pay&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;% High Meaning&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;% High Meaning&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a>salary[<span class="st">&#39;% STEM Degrees&#39;</span>] <span class="op">=</span> salary[<span class="st">&#39;% STEM Degrees&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a>salary.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="10">

  <div id="df-c2817b58-07d8-4c3f-8e5d-39d816602d0b">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>School Name</th>
      <th>School Type</th>
      <th>Early Career Pay</th>
      <th>Mid-Career Pay</th>
      <th>% High Meaning</th>
      <th>% STEM Degrees</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Massachusetts Institute of Technology</td>
      <td>Engineering, Private School, Research University</td>
      <td>93700</td>
      <td>167200</td>
      <td>51</td>
      <td>68</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2</td>
      <td>Harvey Mudd College</td>
      <td>Engineering, Liberal Arts School, Private School</td>
      <td>97700</td>
      <td>166600</td>
      <td>56</td>
      <td>75</td>
    </tr>
    <tr>
      <th>2</th>
      <td>3</td>
      <td>Princeton University</td>
      <td>Ivy League, Private School, Research Universit...</td>
      <td>81800</td>
      <td>161500</td>
      <td>48</td>
      <td>49</td>
    </tr>
    <tr>
      <th>3</th>
      <td>4</td>
      <td>United States Naval Academy</td>
      <td>Engineering, Liberal Arts School, Sober School...</td>
      <td>83700</td>
      <td>160100</td>
      <td>61</td>
      <td>57</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5</td>
      <td>Stanford University</td>
      <td>Engineering, Private School, Research Universi...</td>
      <td>87100</td>
      <td>156500</td>
      <td>55</td>
      <td>50</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-c2817b58-07d8-4c3f-8e5d-39d816602d0b')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-c2817b58-07d8-4c3f-8e5d-39d816602d0b button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-c2817b58-07d8-4c3f-8e5d-39d816602d0b');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="BRApl8wRTnGr">
<p>Now we go on to clean the data in the tuition dataframe. We first
drop the columns of NaNs using dropna(). Then We continue to process the
school names, which has the format
(SchoolName)(Private|Public|For-profit)(Duration and extra formating).
We need to truncate the strings wihtin the "School Name" column where
only (SchoolName) remain. To achieve this, we use the function np.where
to identify the school type (Private|Public|For-profit), which
detemrmines the school type so that we could truncate the strings
accordingly.</p>
</div>
<div class="cell code" id="-LOXUmHLTnGt">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>tuition <span class="op">=</span> tuition.dropna()</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;School Name&#39;</span>] <span class="op">=</span> np.where(tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[<span class="op">-</span><span class="dv">19</span>:<span class="op">-</span><span class="dv">12</span>] <span class="op">==</span> <span class="st">&quot;Private&quot;</span>, tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[:<span class="op">-</span><span class="dv">20</span>], tuition[<span class="st">&#39;School Name&#39;</span>])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;School Name&#39;</span>] <span class="op">=</span> np.where(tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[<span class="op">-</span><span class="dv">18</span>:<span class="op">-</span><span class="dv">12</span>] <span class="op">==</span> <span class="st">&quot;Public&quot;</span>, tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[:<span class="op">-</span><span class="dv">19</span>], tuition[<span class="st">&#39;School Name&#39;</span>])</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;School Name&#39;</span>] <span class="op">=</span> np.where(tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[<span class="op">-</span><span class="dv">22</span>:<span class="op">-</span><span class="dv">12</span>] <span class="op">==</span> <span class="st">&quot;For-profit&quot;</span>, tuition[<span class="st">&#39;School Name&#39;</span>].<span class="bu">str</span>[:<span class="op">-</span><span class="dv">23</span>], tuition[<span class="st">&#39;School Name&#39;</span>])</span></code></pre></div>
</div>
<div class="cell markdown" id="kZDm5_soTnGu">
<p>Next, we remove the dollar signs and commas in the columns "Room and
board", "In-state tuition", "In-state total", "Out-of-state tuition",
and "Out-of-state total" using replace() like we did for the salary
dataframe.</p>
</div>
<div class="cell code" id="PAZDLVy9TnGv">
<div class="sourceCode" id="cb11"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Room and board&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Room and board&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;$&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Room and board&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Room and board&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state tuition&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;$&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state tuition&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state total&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;$&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state total&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;$&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state total&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;$&#39;</span>,<span class="st">&#39;&#39;</span>)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state total&#39;</span>].<span class="bu">str</span>.replace(<span class="st">&#39;,&#39;</span>,<span class="st">&#39;&#39;</span>)</span></code></pre></div>
</div>
<div class="cell markdown" id="NURwQJXkTnGx">
<p>We then fill in the missing data with NaNs and dropping the trials
including them to prevent skewing in data and assit the modeling process
later.</p>
</div>
<div class="cell code" id="h6e0CUKLTnGy">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>tuition <span class="op">=</span> tuition.replace(<span class="st">&#39;--&#39;</span>, np.NaN)</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>tuition <span class="op">=</span> tuition.dropna()</span></code></pre></div>
</div>
<div class="cell markdown" id="qX0qKi_RTnG0">
<p>Finally, we convert the string price values in columns "Room and
board", "In-state tuition", "In-state total", "Out-of-state tuition",
and "Out-of-state total" into integers using astype(int) like we did
before with the numerical values in the salary dataframe.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="dujNkqX6TnG0" data-outputId="cec299ea-8aeb-4ae2-f3db-7401b3e34ec1">
<div class="sourceCode" id="cb13"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Room and board&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Room and board&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state tuition&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb13-3"><a href="#cb13-3" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;In-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;In-state total&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb13-4"><a href="#cb13-4" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state tuition&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb13-5"><a href="#cb13-5" aria-hidden="true" tabindex="-1"></a>tuition[<span class="st">&#39;Out-of-state total&#39;</span>] <span class="op">=</span> tuition[<span class="st">&#39;Out-of-state total&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb13-6"><a href="#cb13-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb13-7"><a href="#cb13-7" aria-hidden="true" tabindex="-1"></a>tuition.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="14">

  <div id="df-51e56862-96c8-4238-aa16-118e38ad33d4">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>School Name</th>
      <th>State</th>
      <th>Room and board</th>
      <th>In-state tuition</th>
      <th>In-state total</th>
      <th>Out-of-state tuition</th>
      <th>Out-of-state total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Columbia University</td>
      <td>NY</td>
      <td>14490</td>
      <td>62430</td>
      <td>76920</td>
      <td>62430</td>
      <td>76920</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Franklin &amp; Marshall College</td>
      <td>PA</td>
      <td>14739</td>
      <td>61262</td>
      <td>76001</td>
      <td>61262</td>
      <td>76001</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Kenyon College</td>
      <td>OH</td>
      <td>12830</td>
      <td>61100</td>
      <td>73930</td>
      <td>61100</td>
      <td>73930</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Vassar College</td>
      <td>NY</td>
      <td>14990</td>
      <td>60930</td>
      <td>75920</td>
      <td>60930</td>
      <td>75920</td>
    </tr>
    <tr>
      <th>8</th>
      <td>Amherst College</td>
      <td>MA</td>
      <td>15910</td>
      <td>60890</td>
      <td>76800</td>
      <td>60890</td>
      <td>76800</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-51e56862-96c8-4238-aa16-118e38ad33d4')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-51e56862-96c8-4238-aa16-118e38ad33d4 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-51e56862-96c8-4238-aa16-118e38ad33d4');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="lqS-1bLHTnG1">
<p>After we finish processing the two datasets, we merge the two on
school name to create a master dataset called df sorted by the "Rank"
column. Furthermore, we transformed the 'Rank" column into an integer to
keep all the values the same, then sorting the dataframe by its
rank.</p>
<p>We also dropped the duplicates after noticing that there were several
duplciate entries of the same school from merging.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:337}"
id="CI169HimTnG2" data-outputId="88467fb0-5a74-4422-b4a6-e53f58aa9561">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> pd.merge(salary, tuition, on<span class="op">=</span>[<span class="st">&#39;School Name&#39;</span>])</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;Rank&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;Rank&#39;</span>].astype(<span class="bu">int</span>)</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.sort_values(by<span class="op">=</span>[<span class="st">&#39;Rank&#39;</span>])</span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop_duplicates(subset<span class="op">=</span>[<span class="st">&#39;School Name&#39;</span>])</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="31">

  <div id="df-6c3d4fec-f717-4706-8a46-cafa7c0f1ef7">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>School Name</th>
      <th>School Type</th>
      <th>Early Career Pay</th>
      <th>Mid-Career Pay</th>
      <th>% High Meaning</th>
      <th>% STEM Degrees</th>
      <th>State</th>
      <th>Room and board</th>
      <th>In-state tuition</th>
      <th>In-state total</th>
      <th>Out-of-state tuition</th>
      <th>Out-of-state total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Massachusetts Institute of Technology</td>
      <td>Engineering, Private School, Research University</td>
      <td>93700</td>
      <td>167200</td>
      <td>51</td>
      <td>68</td>
      <td>MA</td>
      <td>17320</td>
      <td>53450</td>
      <td>70770</td>
      <td>53450</td>
      <td>70770</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>Harvey Mudd College</td>
      <td>Engineering, Liberal Arts School, Private School</td>
      <td>97700</td>
      <td>166600</td>
      <td>56</td>
      <td>75</td>
      <td>CA</td>
      <td>18679</td>
      <td>58910</td>
      <td>77589</td>
      <td>58910</td>
      <td>77589</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3</td>
      <td>Princeton University</td>
      <td>Ivy League, Private School, Research Universit...</td>
      <td>81800</td>
      <td>161500</td>
      <td>48</td>
      <td>49</td>
      <td>NJ</td>
      <td>14792</td>
      <td>48502</td>
      <td>63294</td>
      <td>48502</td>
      <td>63294</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5</td>
      <td>Stanford University</td>
      <td>Engineering, Private School, Research Universi...</td>
      <td>87100</td>
      <td>156500</td>
      <td>55</td>
      <td>50</td>
      <td>CA</td>
      <td>17255</td>
      <td>56169</td>
      <td>73424</td>
      <td>56169</td>
      <td>73424</td>
    </tr>
    <tr>
      <th>8</th>
      <td>7</td>
      <td>Babson College</td>
      <td>Business, Private School</td>
      <td>77800</td>
      <td>155400</td>
      <td>43</td>
      <td>2</td>
      <td>MA</td>
      <td>17666</td>
      <td>54144</td>
      <td>71810</td>
      <td>54144</td>
      <td>71810</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-6c3d4fec-f717-4706-8a46-cafa7c0f1ef7')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-6c3d4fec-f717-4706-8a46-cafa7c0f1ef7 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-6c3d4fec-f717-4706-8a46-cafa7c0f1ef7');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="BCRw-oZJ4d_Z">
<p>Finally, we dropped to columns, 'School Type' and 'Room and board' as
they are irrelevant to our analysis.</p>
<p>We will also drop 'In-state tuition' and 'Out-of-state tutition' and
purely focus on 'In-state total' and 'Out-of-state total' as focusing on
the total cost from attending a college would be more relevant to our
analysis</p>
<p>The dataframe below is our final dataframe</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="cPI16T3R5hgB" data-outputId="6b7fc458-52c5-4810-d241-4c18fe2f763d">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.drop([<span class="st">&quot;School Type&quot;</span>, <span class="st">&quot;Room and board&quot;</span>, <span class="st">&quot;In-state tuition&quot;</span>, <span class="st">&quot;Out-of-state tuition&quot;</span>], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="54">

  <div id="df-a28c5530-0910-4e52-bf3b-7e26edea3d82">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>School Name</th>
      <th>Early Career Pay</th>
      <th>Mid-Career Pay</th>
      <th>% High Meaning</th>
      <th>% STEM Degrees</th>
      <th>State</th>
      <th>In-state total</th>
      <th>Out-of-state total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Massachusetts Institute of Technology</td>
      <td>93700</td>
      <td>167200</td>
      <td>51</td>
      <td>68</td>
      <td>MA</td>
      <td>70770</td>
      <td>70770</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>Harvey Mudd College</td>
      <td>97700</td>
      <td>166600</td>
      <td>56</td>
      <td>75</td>
      <td>CA</td>
      <td>77589</td>
      <td>77589</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3</td>
      <td>Princeton University</td>
      <td>81800</td>
      <td>161500</td>
      <td>48</td>
      <td>49</td>
      <td>NJ</td>
      <td>63294</td>
      <td>63294</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5</td>
      <td>Stanford University</td>
      <td>87100</td>
      <td>156500</td>
      <td>55</td>
      <td>50</td>
      <td>CA</td>
      <td>73424</td>
      <td>73424</td>
    </tr>
    <tr>
      <th>8</th>
      <td>7</td>
      <td>Babson College</td>
      <td>77800</td>
      <td>155400</td>
      <td>43</td>
      <td>2</td>
      <td>MA</td>
      <td>71810</td>
      <td>71810</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-a28c5530-0910-4e52-bf3b-7e26edea3d82')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-a28c5530-0910-4e52-bf3b-7e26edea3d82 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-a28c5530-0910-4e52-bf3b-7e26edea3d82');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="vf56rjXN5g0e">

</div>
<div class="cell markdown" id="6q0VMSJU5gLU">

</div>
<div class="cell markdown" id="3ufGyvho5fkC">

</div>
<section id="data-visualization" class="cell markdown"
id="MgNyQlB-TnG3">
<h1>Data Visualization</h1>
<p>The pairs of variables that we decide to analyze the relationship of
are:</p>
<p>Out-of-state Total Expenses vs Mid-Career Pay. College Ranking vs
Mid-Career Pay College Ranking vs Out-of-state Total Expenses Mid-Career
Pay vs % High Meaning</p>
<p>We will use matplotlib to create visualizations fo these three pairs
of variables.</p>
<p>More info about matplotlib can be found <a
href="https://matplotlib.org/3.3.3/api/_as_gen/matplotlib.pyplot.scatter.html">here</a></p>
<p>First, we have Mid-Career Pay vs Out-of-state Total Expenses:</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="R6MK24ZmTnG4" data-outputId="2bab2482-ccd3-4e93-f05d-2db7ce9ffe20">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Out-of-state total&quot;</span>], df[<span class="st">&quot;Mid-Career Pay&quot;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Out-of-state total vs Mid-Career Pay&quot;</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Out-of-state Total Expenses&quot;</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="16">
<pre><code>Text(0, 0.5, &#39;Mid-Career Pay&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/1d37f19d1b2034a7d23a6b163bddb43d5c644750.png" /></p>
</div>
</div>
<div class="cell markdown" id="lxYBFPD6TnG5">
<p>From this plot, we can see a clear positive (almost linear)
correlation between Mid-Career Pay and Out-of-state Total Expenses.</p>
<p>This relationship tells us that as the Out-of-state Total Expenses
increase, the Mid-Career Pay of a student increases.</p>
<p>Next we plot and examine Mid-Career Pay vs College Ranking:</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="6mYtkeODTnG6" data-outputId="586a8161-92a4-4aba-82cb-6fdac4c9274f">
<div class="sourceCode" id="cb18"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Rank&quot;</span>], df[<span class="st">&quot;Mid-Career Pay&quot;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;College Ranking vs Mid-Career Pay&quot;</span>)</span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;College Ranking&quot;</span>)</span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="17">
<pre><code>Text(0, 0.5, &#39;Mid-Career Pay&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/6ae487f87cd8784c213e921298bc78a5cdd51416.png" /></p>
</div>
</div>
<div class="cell markdown" id="xACUYb4DTnG7">
<p>From this plot we can see a clear correlation between Mid-Career Pay
and College Ranking, which is a cubic function (higher ranking = higher
pay).</p>
<p>This plot supports our hypothesis that better schools will contribute
to a better future salary and shows that as College Ranking increases
(ranking gets worse), the Mid-Career Pay decreases.</p>
</div>
<div class="cell markdown" id="INbxGNjwLnCl">
<p>Again, we can plot the same plot, but add in Early Career Pay in
order to visual the difference between Early Career Pay and Mid-Career
Pay.</p>
<p>We would expect that these two sets of data are very similar as a
high Early Career Pay would indicate a high Mid-Career Pay.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}"
id="9uUA6txZ13XL" data-outputId="2730bd1f-9070-4228-d893-2a3de83ff694">
<div class="sourceCode" id="cb20"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Rank&quot;</span>], df[<span class="st">&quot;Mid-Career Pay&quot;</span>], <span class="st">&quot;.&quot;</span>, color<span class="op">=</span><span class="st">&quot;blue&quot;</span>, label<span class="op">=</span><span class="st">&quot;Mid-Career Pay&quot;</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Rank&quot;</span>], df[<span class="st">&quot;Early Career Pay&quot;</span>], <span class="st">&quot;.&quot;</span>, color<span class="op">=</span><span class="st">&quot;red&quot;</span>, label<span class="op">=</span><span class="st">&quot;Early Career Pay&quot;</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;College Ranking vs Career Pay&quot;</span>)</span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;College Ranking&quot;</span>)</span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Career Pay&quot;</span>)</span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/7c8fc57841f50097d57c41a771b4cffd782b5013.png" /></p>
</div>
</div>
<div class="cell markdown" id="wTqLMGO1L9SZ">
<p>As expected, we can see that they seem to be dependent upon one
another as they show a similar pattern</p>
</div>
<div class="cell markdown" id="HHs5bU-vL9DO">
<p>We then create a plot that compares College Ranking with Out-of-state
Total Expenses, then we will include another plot that will add on
In-state Total Expenses as well</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="Np4wkgK4TnG7" data-outputId="896e0628-e7c0-4205-ee63-a97b44e7a3f6">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Rank&quot;</span>], df[<span class="st">&quot;Out-of-state total&quot;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;College Ranking vs Out-of-state Total Expenses&quot;</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;College Ranking&quot;</span>)</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Out-of-state Total Expenses&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="18">
<pre><code>Text(0, 0.5, &#39;Out-of-state Total Expenses&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/643c5c00ffa7b10ec867100aa11b1773e1109b17.png" /></p>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="AxPUn_y-4HQX" data-outputId="2cb272fe-5bcf-493c-c266-b2a9141ea91e">
<div class="sourceCode" id="cb23"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], df[<span class="st">&#39;Out-of-state total&#39;</span>], <span class="st">&quot;.&quot;</span>, label<span class="op">=</span><span class="st">&quot;Out-of-state total&quot;</span>)</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], df[<span class="st">&#39;In-state total&#39;</span>], <span class="st">&quot;.&quot;</span>, label<span class="op">=</span><span class="st">&quot;In-state total&quot;</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;College Rank vs Total Costs&quot;</span>)</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Rank&quot;</span>)</span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Total Cost&quot;</span>)</span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>plt.legend()</span></code></pre></div>
<div class="output execute_result" data-execution_count="56">
<pre><code>&lt;matplotlib.legend.Legend at 0x7fb9dd2c7970&gt;</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/6a8c6f028bfba9f4f5fd0f62962a975101138b9e.png" /></p>
</div>
</div>
<div class="cell markdown" id="MPFHPSvQTnG8">
<p>From this plot we can see a negative correlation between Out-of-state
Total Expenses and College Ranking, which is nearly linear (higher
ranking = higher expenses).</p>
<p>In this plot we can see that as College Ranking increases (ranking
gets worse), the Out-of-state Total Expenses decreases. This
relationship suggests that better schools often have more expenseive
Out-of-state Total Expenses.</p>
<p>On the other hand, In-state Total Expenses shows a similar pattern,
although it is unclear whether or not there is dependency or correlation
between In-state and Out-of-state Total Expenses.</p>
</div>
<div class="cell markdown" id="A_HQ9R-YNEGK">
<p>We then will graph out Mid-Career Pay vs % High Meaning. The % High
Meaning column reveals what percent of alumni claim that their current
career makes the world a better place.</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="TuROw9lLTnG9" data-outputId="afdc5b1a-48d2-4ec4-e462-7d0f363f1eb8">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Mid-Career Pay&quot;</span>], df[<span class="st">&quot;% High Meaning&quot;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Mid-Career Pay vs % High Meaning&quot;</span>)</span>
<span id="cb25-3"><a href="#cb25-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span>
<span id="cb25-4"><a href="#cb25-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;% High Meaning&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<pre><code>Text(0, 0.5, &#39;% High Meaning&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/763a7b830dd006c36dde78edee63f13248254782.png" /></p>
</div>
</div>
<div class="cell markdown" id="rzI2rikpTnG-">
<p>From this plot, we can observe a downward, nearly linear downward
trend in % of alumnis claiming their work makes the world a better place
in relation to increase in mid-career pay.</p>
<p>This plot shows that as Mid-Career Pay increase, the % of alumnis
claiming that their work makes the world a better place decreases.</p>
</div>
<div class="cell markdown" id="hlcA9UVSN-wK">
<p>This plot will plot out Mid-Career Pay vs % STEM Degrees, or what
percent of students choose to attain a STEM Degree from a certain
university</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="JQvOELnZNtbI" data-outputId="626be627-2cd8-485b-ff7d-f793a3883c0a">
<div class="sourceCode" id="cb27"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&quot;Mid-Career Pay&quot;</span>], df[<span class="st">&quot;% STEM Degrees&quot;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Mid-Career Pay vs % STEM Degrees&quot;</span>)</span>
<span id="cb27-3"><a href="#cb27-3" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span>
<span id="cb27-4"><a href="#cb27-4" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;% STEM Degrees&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="95">
<pre><code>Text(0, 0.5, &#39;% STEM Degrees&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/d83eaed139c732ac626b97fa86dc52fe4198bce0.png" /></p>
</div>
</div>
<div class="cell markdown" id="J6hQSDbcN84N">
<p>From this plot, we can observe a positive, nearly linear trend in %
of alumnis claiming their work makes the world a better place in
relation to increase in mid-career pay.</p>
<p>This plot shows that as Mid-Career Pay increase, the % STEM Degree
increases as well.</p>
</div>
<div class="cell markdown" id="VfOwvsX3OjYt">
<p>Finally, we plot the mean pay in each state with a bargraph.</p>
<p>We included two plots: One that compares by the Mid-Career Pay, which
the other one includes both Mid-Career Pay and Early Career Pay</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:661}"
id="i4AxToc_-K5I" data-outputId="72e97ce1-0a4c-42e6-ab38-b3b45fb5715e">
<div class="sourceCode" id="cb29"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">8</span>))</span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>state_mean_pay <span class="op">=</span> df.groupby(<span class="st">&#39;State&#39;</span>)[<span class="st">&#39;Mid-Career Pay&#39;</span>].mean().reset_index()</span>
<span id="cb29-3"><a href="#cb29-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-4"><a href="#cb29-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Sort by mean mid-career pay</span></span>
<span id="cb29-5"><a href="#cb29-5" aria-hidden="true" tabindex="-1"></a>state_mean_pay <span class="op">=</span> state_mean_pay.sort_values(by<span class="op">=</span><span class="st">&#39;Mid-Career Pay&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb29-6"><a href="#cb29-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb29-7"><a href="#cb29-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Plot bar chart of mean mid-career pay by state</span></span>
<span id="cb29-8"><a href="#cb29-8" aria-hidden="true" tabindex="-1"></a>plt.bar(state_mean_pay[<span class="st">&#39;State&#39;</span>], state_mean_pay[<span class="st">&#39;Mid-Career Pay&#39;</span>])</span>
<span id="cb29-9"><a href="#cb29-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Average Mid-Career Pay by State&quot;</span>)</span>
<span id="cb29-10"><a href="#cb29-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;State&quot;</span>)</span>
<span id="cb29-11"><a href="#cb29-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Average Mid-Career Pay&quot;</span>)</span>
<span id="cb29-12"><a href="#cb29-12" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb29-13"><a href="#cb29-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/b1f2f2ca823c7c27395ffee71fb4f6f060d832ef.png" /></p>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:661}"
id="j-zKPa7d6qW_" data-outputId="b86127aa-60ee-475a-8724-06db07e5089c">
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure(figsize<span class="op">=</span>(<span class="dv">20</span>, <span class="dv">8</span>))</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>state_mean_pay <span class="op">=</span> df.groupby(<span class="st">&#39;State&#39;</span>)[[<span class="st">&#39;Mid-Career Pay&#39;</span>, <span class="st">&#39;Early Career Pay&#39;</span>]].mean().reset_index()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a>state_mean_pay <span class="op">=</span> state_mean_pay.sort_values(by<span class="op">=</span><span class="st">&#39;Mid-Career Pay&#39;</span>, ascending<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="co"># Subtract value in order to merge together later</span></span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>state_mean_pay[<span class="st">&#39;Mid-Career Pay&#39;</span>] <span class="op">=</span> state_mean_pay[<span class="st">&#39;Mid-Career Pay&#39;</span>] <span class="op">-</span> state_mean_pay[<span class="st">&#39;Early Career Pay&#39;</span>]</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>plt.bar(state_mean_pay[<span class="st">&#39;State&#39;</span>], state_mean_pay[<span class="st">&#39;Early Career Pay&#39;</span>], label<span class="op">=</span><span class="st">&#39;Early Career Pay&#39;</span>)</span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>plt.bar(state_mean_pay[<span class="st">&#39;State&#39;</span>], state_mean_pay[<span class="st">&#39;Mid-Career Pay&#39;</span>], bottom<span class="op">=</span>state_mean_pay[<span class="st">&#39;Early Career Pay&#39;</span>], label<span class="op">=</span><span class="st">&#39;Mid-Career Pay&#39;</span>)</span>
<span id="cb30-10"><a href="#cb30-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Average Mid-Career Pay and Early Career Pay by State&quot;</span>)</span>
<span id="cb30-11"><a href="#cb30-11" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;State&quot;</span>)</span>
<span id="cb30-12"><a href="#cb30-12" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Average Pay&quot;</span>)</span>
<span id="cb30-13"><a href="#cb30-13" aria-hidden="true" tabindex="-1"></a>plt.xticks(rotation<span class="op">=</span><span class="dv">90</span>)</span>
<span id="cb30-14"><a href="#cb30-14" aria-hidden="true" tabindex="-1"></a>plt.legend()</span>
<span id="cb30-15"><a href="#cb30-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/e509ac3e0d7059cee31d5eb3ff175d20f2be6811.png" /></p>
</div>
</div>
<section id="modeling-and-analysis" class="cell markdown"
id="oTIckNy3TnHh">
<h1>Modeling and Analysis</h1>
<p>After examining the plots above, we decide to attempt fitting linear
regression models to the two pairs of relationships that appear linear,
which are Mid-Career Pay vs Out-of-state Total Expenses and Out-of-state
Total Expenses vs College Ranking</p>
<p>We begin by fitting a linear regression model Mid-Career Pay vs
Out-of-state Total Expenses:</p>
</section>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="BZNwBTXqTnHi" data-outputId="076acab2-3e8e-47a2-9a28-44990eb78048">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>regression <span class="op">=</span> linear_model.LinearRegression()</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> df[<span class="st">&#39;Out-of-state total&#39;</span>].values]</span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [[y] <span class="cf">for</span> y <span class="kw">in</span> df[<span class="st">&#39;Mid-Career Pay&#39;</span>].values]</span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> regression.fit(x, y)</span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> model.predict(x)</span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Out-of-state total&#39;</span>], df[<span class="st">&#39;Mid-Career Pay&#39;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Out-of-state total&#39;</span>], pred, color<span class="op">=</span><span class="st">&#39;r&#39;</span>)</span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Out-of-state total vs Mid-Career Pay&quot;</span>)</span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Out-of-state total&quot;</span>)</span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="20">
<pre><code>Text(0, 0.5, &#39;Mid-Career Pay&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/fb3d0d8201b6d7ef9d32a0a621e2136e4e4b33b9.png" /></p>
</div>
</div>
<div class="cell markdown" id="bbb9Ld8NTnHj">
<p>From this graph, we could see that the linear regression line fits
nicely, with a coefficient of about 0.93056 dollar increase for each
dollar spent in annual tuition</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="8HPHFWQ-TnHk" data-outputId="3435d9d5-3162-488f-cf6d-b7aee6420fc9">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.coef_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[[0.93056192]]
</code></pre>
</div>
</div>
<div class="cell markdown" id="NaTdsRUbTnHl">
<p>In order to test to see if there is a relationship between Mid-Career
Pay and Out-of-state Total Expense, we decided to run a T test with an α
value of 0.05.</p>
<p>The Hyotheses are:</p>
<p>H<sub>0</sub>: x1 = 0</p>
<p>H<sub>A</sub>: x1 ≠ 0</p>
<p>The tests statistic will be the T value of x1, which is 29.478 and
the p value corresponding to it, which is 0.000.</p>
<p>conclusion: By examining the p-value (0.000 &lt; 0.05), we reject the
null hypothesis of no relationship between Mid-Career Pay and
Out-of-state Total Expenses</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="lzJbmdMFTnHm" data-outputId="61007b6e-e8eb-4eed-ccee-3dbf31bac6a7">
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="op">=</span> sma.add_constant(x)</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>est <span class="op">=</span> sma.OLS(y, x2).fit()</span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>est.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="22">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th> <td>   0.496</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.496</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   869.0</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 12 May 2023</td> <th>  Prob (F-statistic):</th> <td>1.77e-133</td>
</tr>
<tr>
  <th>Time:</th>                 <td>18:55:56</td>     <th>  Log-Likelihood:    </th> <td> -9699.0</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   884</td>      <th>  AIC:               </th> <td>1.940e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   882</td>      <th>  BIC:               </th> <td>1.941e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
    <td></td>       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th> <td> 5.298e+04</td> <td> 1567.484</td> <td>   33.800</td> <td> 0.000</td> <td> 4.99e+04</td> <td> 5.61e+04</td>
</tr>
<tr>
  <th>x1</th>    <td>    0.9306</td> <td>    0.032</td> <td>   29.478</td> <td> 0.000</td> <td>    0.869</td> <td>    0.993</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>66.186</td> <th>  Durbin-Watson:     </th> <td>   1.004</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  80.911</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.676</td> <th>  Prob(JB):          </th> <td>2.69e-18</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 3.608</td> <th>  Cond. No.          </th> <td>1.64e+05</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.64e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="od9PRTbbs4oS">
<p>We then move on to fitting a linear regression model on Mid-Career
Pay vs College Ranking:</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="U_crh-Wss2TI" data-outputId="7631f606-5a2b-4ec4-b43e-f43cb6001193">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> df[<span class="st">&#39;Rank&#39;</span>].values]</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [[y] <span class="cf">for</span> y <span class="kw">in</span> df[<span class="st">&#39;Mid-Career Pay&#39;</span>].values]</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> regression.fit(x, y)</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> model.predict(x)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], df[<span class="st">&#39;Mid-Career Pay&#39;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb36-7"><a href="#cb36-7" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], pred, color<span class="op">=</span><span class="st">&#39;r&#39;</span>)</span>
<span id="cb36-8"><a href="#cb36-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Mid-Career Pay vs College Ranking&quot;</span>)</span>
<span id="cb36-9"><a href="#cb36-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;College Ranking&quot;</span>)</span>
<span id="cb36-10"><a href="#cb36-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="47">
<pre><code>Text(0, 0.5, &#39;Mid-Career Pay&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/193a4f02c6e770231a3106798ee9e6a03b35c22a.png" /></p>
</div>
</div>
<div class="cell markdown" id="kOT1up9nt230">
<p>As we can observe, the relationship between Mid-Career Pay and
College Rank does not seem linear, which mean we should try a different
type of fit for our dataset.</p>
<p>We attempted to refit our model with a polynomial curve, and in order
to do so, we had to import two new libraries:</p>
<p><a
href="https://scikit-learn.org/stable/modules/generated/sklearn.linear_model.LinearRegression.html">LinearRegression</a></p>
<p><a
href="https://scikit-learn.org/stable/modules/generated/sklearn.preprocessing.PolynomialFeatures.html">PolynomialFeatures</a></p>
<p>We decided to do a Polynomial fit with a cubic equation since we
observe that there seems to be two points of inflection.</p>
</div>
<div class="cell code" id="hYMtXuwOuYO3">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.linear_model <span class="im">import</span> LinearRegression</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sklearn.preprocessing <span class="im">import</span> PolynomialFeatures</span></code></pre></div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:472}"
id="Qx2TQSY3t1qs" data-outputId="1d2c9acc-dc27-4a0a-f605-5047fe4d21a0">
<div class="sourceCode" id="cb39"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> df[<span class="st">&#39;Rank&#39;</span>].values]</span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [[y] <span class="cf">for</span> y <span class="kw">in</span> df[<span class="st">&#39;Mid-Career Pay&#39;</span>].values]</span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-4"><a href="#cb39-4" aria-hidden="true" tabindex="-1"></a>poly <span class="op">=</span> PolynomialFeatures(degree<span class="op">=</span><span class="dv">3</span>)</span>
<span id="cb39-5"><a href="#cb39-5" aria-hidden="true" tabindex="-1"></a>x_poly <span class="op">=</span> poly.fit_transform(x)</span>
<span id="cb39-6"><a href="#cb39-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-7"><a href="#cb39-7" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> sma.OLS(y, x_poly).fit()</span>
<span id="cb39-8"><a href="#cb39-8" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> reg.predict(x_poly)</span>
<span id="cb39-9"><a href="#cb39-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb39-10"><a href="#cb39-10" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], df[<span class="st">&#39;Mid-Career Pay&#39;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb39-11"><a href="#cb39-11" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], pred, color<span class="op">=</span><span class="st">&#39;r&#39;</span>)</span>
<span id="cb39-12"><a href="#cb39-12" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Mid-Career Pay vs College Ranking&quot;</span>)</span>
<span id="cb39-13"><a href="#cb39-13" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;College Ranking&quot;</span>)</span>
<span id="cb39-14"><a href="#cb39-14" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span>
<span id="cb39-15"><a href="#cb39-15" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/6822419688a68ccf417109722321f954a0856eaa.png" /></p>
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:529}"
id="AjsyfotGusMP" data-outputId="798e99ef-8625-4006-ad28-9770ada9f4c1">
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>reg.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="50">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th> <td>   0.976</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.976</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>1.189e+04</td>
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 12 May 2023</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>21:09:54</td>     <th>  Log-Likelihood:    </th> <td> -8085.4</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   864</td>      <th>  AIC:               </th> <td>1.618e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   860</td>      <th>  BIC:               </th> <td>1.620e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
    <td></td>       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th> <td> 1.428e+05</td> <td>  351.908</td> <td>  405.738</td> <td> 0.000</td> <td> 1.42e+05</td> <td> 1.43e+05</td>
</tr>
<tr>
  <th>x1</th>    <td> -160.3149</td> <td>    2.096</td> <td>  -76.477</td> <td> 0.000</td> <td> -164.429</td> <td> -156.201</td>
</tr>
<tr>
  <th>x2</th>    <td>    0.1660</td> <td>    0.003</td> <td>   50.255</td> <td> 0.000</td> <td>    0.160</td> <td>    0.172</td>
</tr>
<tr>
  <th>x3</th>    <td>-6.245e-05</td> <td> 1.46e-06</td> <td>  -42.761</td> <td> 0.000</td> <td>-6.53e-05</td> <td>-5.96e-05</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>581.138</td> <th>  Durbin-Watson:     </th> <td>   0.010</td> 
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>12774.097</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 2.713</td>  <th>  Prob(JB):          </th> <td>    0.00</td> 
</tr>
<tr>
  <th>Kurtosis:</th>      <td>21.039</td>  <th>  Cond. No.          </th> <td>4.48e+09</td> 
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 4.48e+09. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="BL-WtqYTyHxA">
<p>In order to test to see if there is a cubic relationship between
College Ranking and Mid-Career pay, we decided to run a T test with an α
value of 0.05 on x3.</p>
<p>The Hyotheses are:</p>
<p>H0: x3 = 0</p>
<p>HA: x3 ≠ 0</p>
<p>The tests statistic will be the T value of x3, which is -42.761 and
the p value corresponding to it, which is 0.000.</p>
<p>Conclusion: By examining the p-value(0.000 &lt; 0.05), we reject the
null hypothesis and state that there is a cubic relationship between
College Ranking and Mid-Career pay.</p>
</div>
<div class="cell markdown" id="jViEjoSSTnHn">
<p>Now we move on to fitting a linear regression model on College
Ranking vs Out-of-state Total Expenses:</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="ZUS7XUZ1TnHo" data-outputId="b3051361-d3eb-4d34-82fe-79cd9c24cd81">
<div class="sourceCode" id="cb41"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> df[<span class="st">&#39;Rank&#39;</span>].values]</span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [[y] <span class="cf">for</span> y <span class="kw">in</span> df[<span class="st">&#39;Out-of-state total&#39;</span>].values]</span>
<span id="cb41-3"><a href="#cb41-3" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> regression.fit(x, y)</span>
<span id="cb41-4"><a href="#cb41-4" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> model.predict(x)</span>
<span id="cb41-5"><a href="#cb41-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb41-6"><a href="#cb41-6" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], df[<span class="st">&#39;Out-of-state total&#39;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb41-7"><a href="#cb41-7" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Rank&#39;</span>], pred, color<span class="op">=</span><span class="st">&#39;r&#39;</span>)</span>
<span id="cb41-8"><a href="#cb41-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Rank vs Out-of-state total&quot;</span>)</span>
<span id="cb41-9"><a href="#cb41-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Rank&quot;</span>)</span>
<span id="cb41-10"><a href="#cb41-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;Out-of-state total&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="23">
<pre><code>Text(0, 0.5, &#39;Out-of-state total&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/5592bc22d3e770c4a99f2c9740ff1aca865496a0.png" /></p>
</div>
</div>
<div class="cell markdown" id="UrdaTxQQTnHo">
<p>From this graph, we can see that there's a linear relationship
between College Ranking and Out-of-state Total Expenses at about 22.79
more per increase in rank (smaller number)</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="H4m4tqxYTnHp" data-outputId="3cfbef36-4b04-43d3-ec07-fc0e075de98c">
<div class="sourceCode" id="cb43"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.coef_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[[-22.79432486]]
</code></pre>
</div>
</div>
<div class="cell markdown" id="09rJnueZTnHq">
<p>Similarly, in order to test to see if there is a relationship between
College Ranking and Out-of-state Total Expense, we decided to run a T
test with an α value of 0.05.</p>
<p>The Hyotheses are:</p>
<p>H<sub>0</sub>: x1 = 0</p>
<p>H<sub>A</sub>: x1 ≠ 0</p>
<p>The tests statistic will be the T value of x1, which is -26.824 and
the p value corresponding to it, which is 0.000.</p>
<p>Conclusion: By examining the p-value(0.000 &lt; 0.05), we reject the
null hypothesis of no relationship between College Ranking and
Out-of-state Total Expenses</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="ify87eyDTnHr" data-outputId="6efecbb8-dcc1-4492-8064-5c924d411bf6">
<div class="sourceCode" id="cb45"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="op">=</span> sma.add_constant(x)</span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>est <span class="op">=</span> sma.OLS(y, x2).fit()</span>
<span id="cb45-3"><a href="#cb45-3" aria-hidden="true" tabindex="-1"></a>est.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="25">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th> <td>   0.449</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.449</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   719.6</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 12 May 2023</td> <th>  Prob (F-statistic):</th> <td>2.24e-116</td>
</tr>
<tr>
  <th>Time:</th>                 <td>18:56:11</td>     <th>  Log-Likelihood:    </th> <td> -9492.3</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   884</td>      <th>  AIC:               </th> <td>1.899e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   882</td>      <th>  BIC:               </th> <td>1.900e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
    <td></td>       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th> <td> 6.325e+04</td> <td>  702.386</td> <td>   90.054</td> <td> 0.000</td> <td> 6.19e+04</td> <td> 6.46e+04</td>
</tr>
<tr>
  <th>x1</th>    <td>  -22.7943</td> <td>    0.850</td> <td>  -26.824</td> <td> 0.000</td> <td>  -24.462</td> <td>  -21.127</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>27.299</td> <th>  Durbin-Watson:     </th> <td>   1.851</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  28.100</td>
</tr>
<tr>
  <th>Skew:</th>          <td>-0.413</td> <th>  Prob(JB):          </th> <td>7.91e-07</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 2.717</td> <th>  Cond. No.          </th> <td>1.55e+03</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 1.55e+03. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="OUC-KAicTnHs">
<p>Finally, we test for the correlation between % of alumnis claiming
their work makes the world a better place in relation to Mid-Career
pay</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:489}"
id="lMEsTH9xTnHs" data-outputId="e3fb8065-109b-4423-c6f3-049b098353a7">
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> [[x] <span class="cf">for</span> x <span class="kw">in</span> df[<span class="st">&#39;Mid-Career Pay&#39;</span>].values]</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a>y <span class="op">=</span> [[y] <span class="cf">for</span> y <span class="kw">in</span> df[<span class="st">&#39;% High Meaning&#39;</span>].values]</span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a>model <span class="op">=</span> regression.fit(x, y)</span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>pred <span class="op">=</span> model.predict(x)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Mid-Career Pay&#39;</span>], df[<span class="st">&#39;% High Meaning&#39;</span>], <span class="st">&quot;.&quot;</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>plt.plot(df[<span class="st">&#39;Mid-Career Pay&#39;</span>], pred, color<span class="op">=</span><span class="st">&#39;r&#39;</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&quot;Mid-Career Pay vs % High Meaning&quot;</span>)</span>
<span id="cb46-9"><a href="#cb46-9" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&quot;Mid-Career Pay&quot;</span>)</span>
<span id="cb46-10"><a href="#cb46-10" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&quot;% High Meaning&quot;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="26">
<pre><code>Text(0, 0.5, &#39;% High Meaning&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_887217ecf0d14789b9cb29481fab02a3/af7a9c6629a6850dc0aab80ba780a20b5108a51a.png" /></p>
</div>
</div>
<div class="cell markdown" id="6oQzV99JTnHt">
<p>From this graph, we observe that there's a negative relationship in
Mid-Career Pay and % High meaning at about -0.000174% of alumnis
claiming their work make the world a better place per dollar increase in
Mid-Career Pay (-1.74% per $10000 increase).</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;}"
id="amlyWEd_TnHu" data-outputId="a6674000-8c28-40fa-8598-a60658f3a680">
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(model.coef_)</span></code></pre></div>
<div class="output stream stdout">
<pre><code>[[-0.00017377]]
</code></pre>
</div>
</div>
<div class="cell markdown" id="qp-z651sTnHv">
<p>In order to test to see if there is a relationship between Mid-Career
Pay and % High meaning, we run a T test with an α value of 0.05.</p>
<p>The Hyotheses are:</p>
<p>H0: x1 = 0</p>
<p>HA: x1 ≠ 0</p>
<p>The tests statistic will be the T value of x1, which is -13.184 and
the p value corresponding to it, which is 0.000.</p>
<p>conclusion:</p>
<p>By examining the p-value(0.000 &lt; 0.05), we reject the null
hypothesis of no relationship between Mid-Career Pay and % High
Meaning</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:486}"
id="I5xJkAYUTnHv" data-outputId="7826c72a-59de-40df-bf8f-c37956e695c4">
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a>x2 <span class="op">=</span> sma.add_constant(x)</span>
<span id="cb50-2"><a href="#cb50-2" aria-hidden="true" tabindex="-1"></a>est <span class="op">=</span> sma.OLS(y, x2).fit()</span>
<span id="cb50-3"><a href="#cb50-3" aria-hidden="true" tabindex="-1"></a>est.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="28">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>            <td>y</td>        <th>  R-squared:         </th> <td>   0.165</td>
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.164</td>
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   173.8</td>
</tr>
<tr>
  <th>Date:</th>             <td>Fri, 12 May 2023</td> <th>  Prob (F-statistic):</th> <td>2.32e-36</td>
</tr>
<tr>
  <th>Time:</th>                 <td>18:56:36</td>     <th>  Log-Likelihood:    </th> <td> -3066.5</td>
</tr>
<tr>
  <th>No. Observations:</th>      <td>   884</td>      <th>  AIC:               </th> <td>   6137.</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   882</td>      <th>  BIC:               </th> <td>   6146.</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     1</td>      <th>                     </th>     <td> </td>   
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>   
</tr>
</table>
<table class="simpletable">
<tr>
    <td></td>       <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>const</th> <td>   69.7941</td> <td>    1.305</td> <td>   53.472</td> <td> 0.000</td> <td>   67.232</td> <td>   72.356</td>
</tr>
<tr>
  <th>x1</th>    <td>   -0.0002</td> <td> 1.32e-05</td> <td>  -13.184</td> <td> 0.000</td> <td>   -0.000</td> <td>   -0.000</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>35.766</td> <th>  Durbin-Watson:     </th> <td>   1.847</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td> <th>  Jarque-Bera (JB):  </th> <td>  72.425</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 0.247</td> <th>  Prob(JB):          </th> <td>1.88e-16</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td> 4.312</td> <th>  Cond. No.          </th> <td>4.94e+05</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 4.94e+05. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="7zTIrIFO116Z">
<p>Now that we established that there were certain relationships between
variables, we decided to try and fit our dataset into a linear
regression with all the data together. We plan to create two fits:</p>
<p>one with Early Career Pay and one with Mid-Career Pay</p>
</div>
<div class="cell markdown" id="ealCTx5MQigt">
<p>In order to fit our dataset, we imported the necessary libraries</p>
<p>We chose to fit models with <a
href="https://www.statsmodels.org/devel/example_formulas.html">R-style
formulas</a> to include all the different variables as well the
interactions we wished to include</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:250}"
id="8JNE3rhNR-c0" data-outputId="de6866f0-cc74-4f74-f8ce-379a9aaed35b">
<div class="sourceCode" id="cb51"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> statsmodels.formula.api <span class="im">as</span> smf</span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="98">

  <div id="df-8b4cc69f-8497-43bf-a5bc-725bfff97a6c">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Rank</th>
      <th>School Name</th>
      <th>Early Career Pay</th>
      <th>Mid-Career Pay</th>
      <th>% High Meaning</th>
      <th>% STEM Degrees</th>
      <th>State</th>
      <th>In-state total</th>
      <th>Out-of-state total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Massachusetts Institute of Technology</td>
      <td>93700</td>
      <td>167200</td>
      <td>51</td>
      <td>68</td>
      <td>MA</td>
      <td>70770</td>
      <td>70770</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>Harvey Mudd College</td>
      <td>97700</td>
      <td>166600</td>
      <td>56</td>
      <td>75</td>
      <td>CA</td>
      <td>77589</td>
      <td>77589</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3</td>
      <td>Princeton University</td>
      <td>81800</td>
      <td>161500</td>
      <td>48</td>
      <td>49</td>
      <td>NJ</td>
      <td>63294</td>
      <td>63294</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5</td>
      <td>Stanford University</td>
      <td>87100</td>
      <td>156500</td>
      <td>55</td>
      <td>50</td>
      <td>CA</td>
      <td>73424</td>
      <td>73424</td>
    </tr>
    <tr>
      <th>8</th>
      <td>7</td>
      <td>Babson College</td>
      <td>77800</td>
      <td>155400</td>
      <td>43</td>
      <td>2</td>
      <td>MA</td>
      <td>71810</td>
      <td>71810</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-8b4cc69f-8497-43bf-a5bc-725bfff97a6c')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-8b4cc69f-8497-43bf-a5bc-725bfff97a6c button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-8b4cc69f-8497-43bf-a5bc-725bfff97a6c');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="-lwP0aAbSXCT">
<p>In order to fit our dataset into a regression model, we had to rename
some of the columns to get rid of spaces and better read into a formula.
We also divided meaning and stem by 100 to better represent the
percentage</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="ubnNQpc3TRa_" data-outputId="d3f032ea-a992-4f0b-b0de-dfdb3fb113b1">
<div class="sourceCode" id="cb52"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb52-1"><a href="#cb52-1" aria-hidden="true" tabindex="-1"></a>df <span class="op">=</span> df.rename(columns <span class="op">=</span> {<span class="st">&#39;Early Career Pay&#39;</span>: <span class="st">&#39;early_pay&#39;</span>, <span class="st">&#39;Mid-Career Pay&#39;</span>: <span class="st">&#39;mid_pay&#39;</span>, <span class="st">&#39;% High Meaning&#39;</span>: <span class="st">&#39;meaning&#39;</span>, <span class="st">&#39;% STEM Degrees&#39;</span>: <span class="st">&#39;stem&#39;</span>, <span class="st">&#39;In-state total&#39;</span>: <span class="st">&#39;in_total&#39;</span>, <span class="st">&#39;Out-of-state total&#39;</span>: <span class="st">&#39;out_total&#39;</span>, <span class="st">&#39;Rank&#39;</span> : <span class="st">&#39;rank&#39;</span>})</span>
<span id="cb52-2"><a href="#cb52-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;meaning&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;meaning&#39;</span>] <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb52-3"><a href="#cb52-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;stem&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;stem&#39;</span>] <span class="op">/</span> <span class="dv">100</span></span>
<span id="cb52-4"><a href="#cb52-4" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="118">

  <div id="df-2672e349-138f-444a-8fbf-fe5a7f6d0f24">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>rank</th>
      <th>School Name</th>
      <th>early_pay</th>
      <th>mid_pay</th>
      <th>meaning</th>
      <th>stem</th>
      <th>State</th>
      <th>in_total</th>
      <th>out_total</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Massachusetts Institute of Technology</td>
      <td>93700</td>
      <td>167200</td>
      <td>0.0051</td>
      <td>0.0068</td>
      <td>MA</td>
      <td>70770</td>
      <td>70770</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2</td>
      <td>Harvey Mudd College</td>
      <td>97700</td>
      <td>166600</td>
      <td>0.0056</td>
      <td>0.0075</td>
      <td>CA</td>
      <td>77589</td>
      <td>77589</td>
    </tr>
    <tr>
      <th>4</th>
      <td>3</td>
      <td>Princeton University</td>
      <td>81800</td>
      <td>161500</td>
      <td>0.0048</td>
      <td>0.0049</td>
      <td>NJ</td>
      <td>63294</td>
      <td>63294</td>
    </tr>
    <tr>
      <th>6</th>
      <td>5</td>
      <td>Stanford University</td>
      <td>87100</td>
      <td>156500</td>
      <td>0.0055</td>
      <td>0.0050</td>
      <td>CA</td>
      <td>73424</td>
      <td>73424</td>
    </tr>
    <tr>
      <th>8</th>
      <td>7</td>
      <td>Babson College</td>
      <td>77800</td>
      <td>155400</td>
      <td>0.0043</td>
      <td>0.0002</td>
      <td>MA</td>
      <td>71810</td>
      <td>71810</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-2672e349-138f-444a-8fbf-fe5a7f6d0f24')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-2672e349-138f-444a-8fbf-fe5a7f6d0f24 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-2672e349-138f-444a-8fbf-fe5a7f6d0f24');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="G6SgSr59Xsr2">
<p>Since we knew that early_pay/mid_pay and in_total/out_total could be
dependent with each other, we chose to run a VIF see if there is any
multicollinearity</p>
<p>To do so, we imported the <a
href="https://www.statsmodels.org/dev/generated/statsmodels.stats.outliers_influence.variance_inflation_factor.html">Varience
Inflation Factor library</a></p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:206}"
id="88Q7ZhOQW-rT" data-outputId="5fd4eeb3-4737-461e-d176-0c8e3bdb733c">
<div class="sourceCode" id="cb53"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> statsmodels.stats.outliers_influence <span class="im">import</span> variance_inflation_factor</span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>X <span class="op">=</span> df[[<span class="st">&#39;in_total&#39;</span>, <span class="st">&#39;out_total&#39;</span>, <span class="st">&#39;meaning&#39;</span>, <span class="st">&#39;stem&#39;</span>, <span class="st">&#39;rank&#39;</span>]]</span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>vifX <span class="op">=</span> pd.DataFrame()</span>
<span id="cb53-4"><a href="#cb53-4" aria-hidden="true" tabindex="-1"></a>vifX[<span class="st">&quot;VIF Factor&quot;</span>] <span class="op">=</span> [variance_inflation_factor(X.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X.shape[<span class="dv">1</span>])]</span>
<span id="cb53-5"><a href="#cb53-5" aria-hidden="true" tabindex="-1"></a>vifX[<span class="st">&quot;Predictor&quot;</span>] <span class="op">=</span> X.columns</span>
<span id="cb53-6"><a href="#cb53-6" aria-hidden="true" tabindex="-1"></a>vifX</span></code></pre></div>
<div class="output execute_result" data-execution_count="119">

  <div id="df-3d8ea130-d940-4d50-91a7-474674ee01ba">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIF Factor</th>
      <th>Predictor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>65.747983</td>
      <td>in_total</td>
    </tr>
    <tr>
      <th>1</th>
      <td>99.295148</td>
      <td>out_total</td>
    </tr>
    <tr>
      <th>2</th>
      <td>24.853531</td>
      <td>meaning</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2.901235</td>
      <td>stem</td>
    </tr>
    <tr>
      <th>4</th>
      <td>7.321716</td>
      <td>rank</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-3d8ea130-d940-4d50-91a7-474674ee01ba')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-3d8ea130-d940-4d50-91a7-474674ee01ba button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-3d8ea130-d940-4d50-91a7-474674ee01ba');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:112}"
id="xPZXmaaOaAcn" data-outputId="c50f88c3-8d8c-4ca9-8804-dfa7b113a319">
<div class="sourceCode" id="cb54"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb54-1"><a href="#cb54-1" aria-hidden="true" tabindex="-1"></a>Y <span class="op">=</span> df[[<span class="st">&#39;early_pay&#39;</span>, <span class="st">&#39;mid_pay&#39;</span>]]</span>
<span id="cb54-2"><a href="#cb54-2" aria-hidden="true" tabindex="-1"></a>vifY <span class="op">=</span> pd.DataFrame()</span>
<span id="cb54-3"><a href="#cb54-3" aria-hidden="true" tabindex="-1"></a>vifY[<span class="st">&quot;VIF Factor&quot;</span>] <span class="op">=</span> [variance_inflation_factor(Y.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(Y.shape[<span class="dv">1</span>])]</span>
<span id="cb54-4"><a href="#cb54-4" aria-hidden="true" tabindex="-1"></a>vifY[<span class="st">&quot;Predictor&quot;</span>] <span class="op">=</span> Y.columns</span>
<span id="cb54-5"><a href="#cb54-5" aria-hidden="true" tabindex="-1"></a>vifY</span></code></pre></div>
<div class="output execute_result" data-execution_count="116">

  <div id="df-5e4f3916-0e03-4b36-b22e-8ac14d5024f2">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIF Factor</th>
      <th>Predictor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>172.083476</td>
      <td>early_pay</td>
    </tr>
    <tr>
      <th>1</th>
      <td>172.083476</td>
      <td>mid_pay</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-5e4f3916-0e03-4b36-b22e-8ac14d5024f2')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-5e4f3916-0e03-4b36-b22e-8ac14d5024f2 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-5e4f3916-0e03-4b36-b22e-8ac14d5024f2');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="MBtdcjvxYV_q">
<p>Typically, a VIF factor of more than 10 indicates multicollinearity,
and we can clearly see that the pay and total values have a VIF factor
well over 10, which means we should remove one of each. Although the
common practice is to remove the highest value, we chose to keep the
variables that we deemed more important</p>
<p>Since Mid Career pay is often the job/income you end up with, which
is also more stable, we decided to cut early_pay and stick with
early_pay.</p>
<p>For In-state and Out-of-state tuition, we decided that Out-of-state
tuition makes more sense as many school make qualify education cheaper
for their state residents (Ex. UT Austin, UMass Amherst, UMD)</p>
<p>Then we will rerun the VIF test until there is no more
multicollinearity</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:174}"
id="r16wIwauZZ8e" data-outputId="d26d445a-b1ef-4c62-bb0f-d7818a12103e">
<div class="sourceCode" id="cb55"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>X2 <span class="op">=</span> df[[<span class="st">&#39;out_total&#39;</span>, <span class="st">&#39;meaning&#39;</span>, <span class="st">&#39;stem&#39;</span>, <span class="st">&#39;rank&#39;</span>]]</span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>vif2 <span class="op">=</span> pd.DataFrame()</span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>vif2[<span class="st">&quot;VIF Factor&quot;</span>] <span class="op">=</span> [variance_inflation_factor(X2.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X2.shape[<span class="dv">1</span>])]</span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>vif2[<span class="st">&quot;Predictor&quot;</span>] <span class="op">=</span> X2.columns</span>
<span id="cb55-5"><a href="#cb55-5" aria-hidden="true" tabindex="-1"></a>vif2</span></code></pre></div>
<div class="output execute_result" data-execution_count="120">

  <div id="df-e4382942-c022-4702-9b8f-381987f5c329">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIF Factor</th>
      <th>Predictor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9.729412</td>
      <td>out_total</td>
    </tr>
    <tr>
      <th>1</th>
      <td>22.431146</td>
      <td>meaning</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.797157</td>
      <td>stem</td>
    </tr>
    <tr>
      <th>3</th>
      <td>7.199705</td>
      <td>rank</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-e4382942-c022-4702-9b8f-381987f5c329')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-e4382942-c022-4702-9b8f-381987f5c329 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-e4382942-c022-4702-9b8f-381987f5c329');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="cbCKbH3Ub7F0">
<p>We will remove meaning as a VIF Factor of 22 is greater than 10</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:143}"
id="u_QrnUcHb4pf" data-outputId="59c134ad-4636-4dc7-e1be-648c39696bc4">
<div class="sourceCode" id="cb56"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb56-1"><a href="#cb56-1" aria-hidden="true" tabindex="-1"></a>X3 <span class="op">=</span> df[[<span class="st">&#39;out_total&#39;</span>, <span class="st">&#39;stem&#39;</span>, <span class="st">&#39;rank&#39;</span>]]</span>
<span id="cb56-2"><a href="#cb56-2" aria-hidden="true" tabindex="-1"></a>vif3 <span class="op">=</span> pd.DataFrame()</span>
<span id="cb56-3"><a href="#cb56-3" aria-hidden="true" tabindex="-1"></a>vif3[<span class="st">&quot;VIF Factor&quot;</span>] <span class="op">=</span> [variance_inflation_factor(X3.values, i) <span class="cf">for</span> i <span class="kw">in</span> <span class="bu">range</span>(X3.shape[<span class="dv">1</span>])]</span>
<span id="cb56-4"><a href="#cb56-4" aria-hidden="true" tabindex="-1"></a>vif3[<span class="st">&quot;Predictor&quot;</span>] <span class="op">=</span> X3.columns</span>
<span id="cb56-5"><a href="#cb56-5" aria-hidden="true" tabindex="-1"></a>vif3</span></code></pre></div>
<div class="output execute_result" data-execution_count="121">

  <div id="df-9fafa649-5d9a-443e-ae69-b309524bec76">
    <div class="colab-df-container">
      <div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>VIF Factor</th>
      <th>Predictor</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4.110476</td>
      <td>out_total</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2.537506</td>
      <td>stem</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2.124486</td>
      <td>rank</td>
    </tr>
  </tbody>
</table>
</div>
      <button class="colab-df-convert" onclick="convertToInteractive('df-9fafa649-5d9a-443e-ae69-b309524bec76')"
              title="Convert this dataframe to an interactive table."
              style="display:none;">
        
  <svg xmlns="http://www.w3.org/2000/svg" height="24px"viewBox="0 0 24 24"
       width="24px">
    <path d="M0 0h24v24H0V0z" fill="none"/>
    <path d="M18.56 5.44l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94zm-11 1L8.5 8.5l.94-2.06 2.06-.94-2.06-.94L8.5 2.5l-.94 2.06-2.06.94zm10 10l.94 2.06.94-2.06 2.06-.94-2.06-.94-.94-2.06-.94 2.06-2.06.94z"/><path d="M17.41 7.96l-1.37-1.37c-.4-.4-.92-.59-1.43-.59-.52 0-1.04.2-1.43.59L10.3 9.45l-7.72 7.72c-.78.78-.78 2.05 0 2.83L4 21.41c.39.39.9.59 1.41.59.51 0 1.02-.2 1.41-.59l7.78-7.78 2.81-2.81c.8-.78.8-2.07 0-2.86zM5.41 20L4 18.59l7.72-7.72 1.47 1.35L5.41 20z"/>
  </svg>
      </button>
      
  <style>
    .colab-df-container {
      display:flex;
      flex-wrap:wrap;
      gap: 12px;
    }

    .colab-df-convert {
      background-color: #E8F0FE;
      border: none;
      border-radius: 50%;
      cursor: pointer;
      display: none;
      fill: #1967D2;
      height: 32px;
      padding: 0 0 0 0;
      width: 32px;
    }

    .colab-df-convert:hover {
      background-color: #E2EBFA;
      box-shadow: 0px 1px 2px rgba(60, 64, 67, 0.3), 0px 1px 3px 1px rgba(60, 64, 67, 0.15);
      fill: #174EA6;
    }

    [theme=dark] .colab-df-convert {
      background-color: #3B4455;
      fill: #D2E3FC;
    }

    [theme=dark] .colab-df-convert:hover {
      background-color: #434B5C;
      box-shadow: 0px 1px 3px 1px rgba(0, 0, 0, 0.15);
      filter: drop-shadow(0px 1px 2px rgba(0, 0, 0, 0.3));
      fill: #FFFFFF;
    }
  </style>

      <script>
        const buttonEl =
          document.querySelector('#df-9fafa649-5d9a-443e-ae69-b309524bec76 button.colab-df-convert');
        buttonEl.style.display =
          google.colab.kernel.accessAllowed ? 'block' : 'none';

        async function convertToInteractive(key) {
          const element = document.querySelector('#df-9fafa649-5d9a-443e-ae69-b309524bec76');
          const dataTable =
            await google.colab.kernel.invokeFunction('convertToInteractive',
                                                     [key], {});
          if (!dataTable) return;

          const docLinkHtml = 'Like what you see? Visit the ' +
            '<a target="_blank" href=https://colab.research.google.com/notebooks/data_table.ipynb>data table notebook</a>'
            + ' to learn more about interactive tables.';
          element.innerHTML = '';
          dataTable['output_type'] = 'display_data';
          await google.colab.output.renderOutput(dataTable, element);
          const docLink = document.createElement('div');
          docLink.innerHTML = docLinkHtml;
          element.appendChild(docLink);
        }
      </script>
    </div>
  </div>
  
</div>
</div>
<div class="cell markdown" id="e02kXFSzaXM3">
<p>Now that we determined that there was no multicollinearity, we can
proceed and create a linear regression model with the addition of the
interactions</p>
</div>
<div class="cell code"
data-colab="{&quot;base_uri&quot;:&quot;https://localhost:8080/&quot;,&quot;height&quot;:529}"
id="w9LodKSRVcOu" data-outputId="5e89df2f-cf4d-41e5-875f-0fd2925fcc9a">
<div class="sourceCode" id="cb57"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>formula <span class="op">=</span> <span class="st">&quot;mid_pay ~ out_total + rank + stem&quot;</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>reg <span class="op">=</span> smf.ols(formula <span class="op">=</span> formula, data<span class="op">=</span>df).fit()</span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>reg.summary()</span></code></pre></div>
<div class="output execute_result" data-execution_count="126">
<table class="simpletable">
<caption>OLS Regression Results</caption>
<tr>
  <th>Dep. Variable:</th>         <td>mid_pay</td>     <th>  R-squared:         </th> <td>   0.897</td> 
</tr>
<tr>
  <th>Model:</th>                   <td>OLS</td>       <th>  Adj. R-squared:    </th> <td>   0.897</td> 
</tr>
<tr>
  <th>Method:</th>             <td>Least Squares</td>  <th>  F-statistic:       </th> <td>   2500.</td> 
</tr>
<tr>
  <th>Date:</th>             <td>Sat, 13 May 2023</td> <th>  Prob (F-statistic):</th>  <td>  0.00</td>  
</tr>
<tr>
  <th>Time:</th>                 <td>00:13:43</td>     <th>  Log-Likelihood:    </th> <td> -8722.3</td> 
</tr>
<tr>
  <th>No. Observations:</th>      <td>   864</td>      <th>  AIC:               </th> <td>1.745e+04</td>
</tr>
<tr>
  <th>Df Residuals:</th>          <td>   860</td>      <th>  BIC:               </th> <td>1.747e+04</td>
</tr>
<tr>
  <th>Df Model:</th>              <td>     3</td>      <th>                     </th>     <td> </td>    
</tr>
<tr>
  <th>Covariance Type:</th>      <td>nonrobust</td>    <th>                     </th>     <td> </td>    
</tr>
</table>
<table class="simpletable">
<tr>
      <td></td>         <th>coef</th>     <th>std err</th>      <th>t</th>      <th>P>|t|</th>  <th>[0.025</th>    <th>0.975]</th>  
</tr>
<tr>
  <th>Intercept</th> <td> 1.067e+05</td> <td> 1262.446</td> <td>   84.541</td> <td> 0.000</td> <td> 1.04e+05</td> <td> 1.09e+05</td>
</tr>
<tr>
  <th>out_total</th> <td>    0.1761</td> <td>    0.018</td> <td>    9.830</td> <td> 0.000</td> <td>    0.141</td> <td>    0.211</td>
</tr>
<tr>
  <th>rank</th>      <td>  -31.5308</td> <td>    0.662</td> <td>  -47.662</td> <td> 0.000</td> <td>  -32.829</td> <td>  -30.232</td>
</tr>
<tr>
  <th>stem</th>      <td> 2.214e+06</td> <td> 1.64e+05</td> <td>   13.513</td> <td> 0.000</td> <td> 1.89e+06</td> <td> 2.54e+06</td>
</tr>
</table>
<table class="simpletable">
<tr>
  <th>Omnibus:</th>       <td>404.255</td> <th>  Durbin-Watson:     </th> <td>   0.485</td>
</tr>
<tr>
  <th>Prob(Omnibus):</th> <td> 0.000</td>  <th>  Jarque-Bera (JB):  </th> <td>2900.267</td>
</tr>
<tr>
  <th>Skew:</th>          <td> 1.998</td>  <th>  Prob(JB):          </th> <td>    0.00</td>
</tr>
<tr>
  <th>Kurtosis:</th>      <td>11.037</td>  <th>  Cond. No.          </th> <td>4.03e+07</td>
</tr>
</table><br/><br/>Notes:<br/>[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.<br/>[2] The condition number is large, 4.03e+07. This might indicate that there are<br/>strong multicollinearity or other numerical problems.
</div>
</div>
<div class="cell markdown" id="b2iO12XMdVv-">
<p>By looking at the summary of our fitted model, we say that all
variables are significant to the model.</p>
</div>
<div class="cell markdown" id="bc4bj6fiAw_b">
<p>#Conclusion</p>
</div>
<div class="cell markdown" id="2GRPyH1rd2Vh">
<p>With our final equation for our model, we can see that variables
Rank, obtaining a stem degree, and cost of tuition attribute to the
future salary of a student. Our final fitted model:</p>
<p>mid_pay = 106700 + 0.1761out_total - 31.5308rank + 2214000stem*</p>
<p>From our model, we can see that for every 1 dollar increase in
Out-of-state tuition, there is a 0.1761 dollar increase in future
mid-career pay. For every 1 rank increase in rank (as rank gets worse),
there is a 31.53 dollar decrease in future mid-career pay. For every 1
percent increase in percentage of students who obtained a stem degree
from a college, there is a 2214000/100 = 22140 dollar increase in
mid-career pay.</p>
<p>Through our analysis, we found that the expensive tuition and
prestigous rankings do correlate to better pay for a student's future,
and that STEM majors are often paid more in the future.</p>
<p>College is an important time for many students to further their
education, and the pricing, prestigion and area to concentrate in are
all factors that go into a student's decision. Through our tutorial, we
found correlations and relationships between these variables. However,
this tutorial is merely a simplification of the decisions, and often
correlation does not mean causation, and there are many more factors
that can attribute whichever college is most suited for a specific
student.</p>
</div>
</body>
</html>
